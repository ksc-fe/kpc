<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>KPC组件库</title><meta content="KPC, KingDesign, 组件库, 前端框架, Vue, Angular, React, Intact" name="keywords"/><meta content="KPC，支持多框架的前端高质量组件库" name="description"/><link rel="shortcut icon" href="/imgs/favicon.ico" type="image/x-icon"/><link href="//damife.ks3-cn-beijing.ksyun.com/kpc/theme-kpc.1.5.0.css" rel="stylesheet"></head><body><div id="page"><div class="k-app"><div class="main-wrapper document-page blog-page"><div class="header-wrapper header-shadow"><header><div class="king-logo"><a class="logo"></a><a class="king">KPC</a></div><div class="right"><nav><a>资源</a><a>设计</a><a>组件</a><a class="active">Blog</a><a>定制主题</a><div class="border"></div></nav><button class="k-btn k-none k-btn-icon menu-btn" _evHasSaved tabindex="0" type="button"><i class="k-icon ion-navicon k-large" style=""></i></button><!--placeholder--><div class="line"></div><div class="k-select k-with-suffix k-inline k-has-value" style="" tabindex="0"><div class="k-wrapper" tabindex="-1" _evHasSaved><div class="k-main"><input type="hidden" value="kpc" /><span class="k-value c-ellipsis">默认主题</span></div><span class="k-suffix"><span class="k-suffix-icon"><i class="k-icon k-arrow ion-arrow-down-b" style=""></i></span></span></div><!--placeholder--></div></div></header></div><div class="content-wrapper"><aside><div class="aside-wrapper"><ul><li><a>基于mxGraph的组件化开发思想</a><ul class="sub-catalogs"><li><a>图形</a></li><li class="sub-catalogs"><a>mxCell</a></li><li><a>画布</a></li></ul></li></ul><div class="aside-border transition" style=""></div></div></aside><article><h1 id="__top">基于mxGraph的组件化开发思想</h1><div class="contents"><div class="api"><div><p>最近在往KPC组件库添加绘图组件，用于绘制网络拓扑图或者流程图等，在调研了一些绘图工具库之后，发现mxGraph非常强大，可以满足各种图形绘制需求，官方还提供了一个基于它的在线图形编辑器。</p>
<p>在基于mxGraph开发组件之前，我们需要先了解一下它的一些基本概念和使用方法。</p>
<h2 id='%E5%9B%BE%E5%BD%A2'>图形</h2><p>mxGraph将图形分为两类：<code>vertex</code>（点：指的各种图形，如：矩形，三角形等）和<code>edge</code>（边：指连线，包括带箭头和不带箭头的各种线条），这两类图形统称为<code>cell</code>，分别通过<code>vertex</code>和<code>edge</code>属性标示</p>
<pre><code class="hljs js"><span class="hljs-comment">// vertex</span>
cell.<span class="hljs-built_in">vertex</span> = <span class="hljs-keyword">true</span>;

<span class="hljs-comment">// edge</span>
cell.edge = <span class="hljs-keyword">true</span>;</code></pre>
<h3 id='mxCell'>mxCell</h3><p>mxGraph将所有元素统称为<code>cell</code>，该元素通过类<code>mxCell</code>创建，该类包含3个重要信息：</p>
<ol>
<li><code>value</code> 元素的标签<code>label</code>，对于图形<code>vertex</code>一般显示在图形中央的文案，对于线<code>edge</code>便是线条
上的标签，该属性支持<code>html</code>字符串</li>
<li><code>geometry</code> 通过<code>mxGeometry</code>创建，用来定义图形的位置和大小；对线条<code>edge</code>而言，可以用来定义
线条的起始点和控制点</li>
<li><code>style</code> 一个类似<code>dom</code>上<code>style</code>属性的样式字符串，只不过它支持的样式是针对<code>svg</code>的，跟<code>css</code>有
差别</li>
</ol>
<pre><code class="hljs js"><span class="hljs-attribute">const</span> value = &#x27;label&#x27;;
<span class="hljs-attribute">const</span> geo = new mxGeometry(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>); // 坐标(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)，大小 <span class="hljs-number">100</span> * <span class="hljs-number">100</span>
<span class="hljs-attribute">const</span> style = &#x27;rounded=<span class="hljs-number">1</span>;whiteSpace=wrap;html=<span class="hljs-number">1</span>;arcSize=<span class="hljs-number">10</span>&#x27;; // 默认图形为矩形rectangle，rounded：圆角，圆角大小为arcSize：<span class="hljs-number">10</span>
<span class="hljs-attribute">const</span> cell = new mxCell(value, geo, style);</code></pre>
<h2 id='%E7%94%BB%E5%B8%83'>画布</h2><p>有了图形，我们需要画布，以便将这些图形添加到画布上。mxGraph提供了<code>mxGraph</code>类来创建画布。</p>
</div></div></div></article></div></div></div></div><script src="//damife.ks3-cn-beijing.ksyun.com/kpc/static/client.2a5f4ba83061c0b8a664.js"></script></body></html>