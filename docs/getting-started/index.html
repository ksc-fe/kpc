<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Intact中使用</title>
    <link rel="shortcut icon" href="/imgs/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/theme-kpc.css" />
</head>
<body>
    
    
    <div id="page"><div class="k-app"><div class="main-wrapper document-page fixed-aside"><div class="header-wrapper header-shadow"><header><div class="king-logo"><a class="logo"></a><a class="king">KPC</a></div><div class="right"><nav><a>设计</a><a class="active">组件</a><a>Blog</a><div class="border"></div></nav><div class="line"></div><div class="k-select k-with-suffix k-inline k-has-value" style="" tabindex="0"><div class="k-wrapper" tabindex="-1" _evHasSaved><div class="k-main"><input type="hidden" value="kpc" /><span class="k-value c-ellipsis">默认主题</span></div><span class="k-suffix"><span class="k-suffix-icon"><i class="k-arrow ion-arrow-down-b"></i></span></span></div><div class="k-dropdown-menu k-select-dropdown"><div class="k-item k-active">默认主题</div><div class="k-item">ksyun</div></div></div></div></header></div><div class="content-wrapper"><aside><div class="aside-wrapper"><div class="catalog-section"><ul><li class="active"><a>Intact中使用</a></li><li><a>Vue中使用</a></li><li><a>React中使用</a></li><li><a>定制主题</a></li><li><a>国际化</a></li><li><a>默认事件</a></li><li><a><div class="k-badge">更新日志</div></a></li></ul></div><div class="catalog-section"><h5>组件</h5><ul><li><a>Affix<span>图钉</span></a></li><li><a>App<span>应用管理</span></a></li><li><a>Badge<span>徽标</span></a></li><li><a>Breadcrumb<span>面包屑</span></a></li><li><a>Button<span>按钮</span></a></li><li><a>Card<span>卡片</span></a></li><li><a>Carousel<span>走马灯</span></a></li><li><a>Cascader<span>级联选择</span></a></li><li><a>Checkbox<span>复选框</span></a></li><li><a>Code<span>代码编辑器</span></a></li><li><a>Collapse<span>折叠面板</span></a></li><li><a>Datepicker<span>日期选择</span></a></li><li><a>Dialog<span>弹窗</span></a></li><li><a>Drawer<span>抽屉</span></a></li><li><a>Dropdown<span>下拉菜单</span></a></li><li><a>Editable<span>可编辑文本</span></a></li><li><a>Form<span>表单</span></a></li><li><a>Grid<span>栅格</span></a></li><li><a>Icon<span>字体图标</span></a></li><li><a>Input<span>输入框</span></a></li><li><a>Layout<span>布局</span></a></li><li><a>Menu<span>菜单</span></a></li><li><a>Message<span>全局提示</span></a></li><li><a>Pagination<span>分页</span></a></li><li><a>Progress<span>进度条</span></a></li><li><a>Radio<span>单选框</span></a></li><li><a>Rate<span>评分</span></a></li><li><a>ScrollSelect<span>滚动选择框</span></a></li><li><a>Select<span>选择框</span></a></li><li><a>Slider<span>滑块</span></a></li><li><a>Spin<span>加载中</span></a></li><li><a>Spinner<span>数字输入框</span></a></li><li><a>Split<span>分割面板</span></a></li><li><a>Steps<span>步骤条</span></a></li><li><a>Switch<span>开关</span></a></li><li><a>Table<span>表格</span></a></li><li><a>Tabs<span>选项卡</span></a></li><li><a>Tag<span>标签</span></a></li><li><a>Timeline<span>时间轴</span></a></li><li><a>Timepicker<span>时间选择</span></a></li><li><a>Tip<span>警告提示</span></a></li><li><a>Tooltip<span>提示弹层</span></a></li><li><a>Transfer<span>穿梭框</span></a></li><li><a>Tree<span>树形控件</span></a></li><li><a>Upload<span>上传</span></a></li></ul></div><div class="aside-border transition"></div></div><button class="k-btn k-default k-btn-icon" tabindex="0" type="button"><i class="k-icon ion-android-menu"></i></button></aside><article><div class="article-head"><div class="title">Intact中使用</div><div class="edit-link">
                    如果你发现文档有问题，请帮忙在
                    <a target="_blank" href="https://github.com/ksc-fe/kpc/blob/master/docs/getting-started.md">github</a>
                    上修正该文档
                </div></div><div class="contents"><div class="api"><div><h1 id='header-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C'>准备工作</h1><p>在学习使用kpc之前，假设你已经掌握了以下知识：</p>
<ol>
<li><a href="https://webpack.js.org/">webpack</a> + <a href="https://babeljs.io/">babel</a></li>
<li><a href="http://javey.github.io/intact/">intact</a></li>
</ol>
<h1 id='header-%E6%89%8B%E5%8A%A8%E5%BC%95%E5%85%A5'>手动引入</h1><h2 id='header-%E5%AE%89%E8%A3%85'>安装</h2><pre><code class="hljs js">npm <span class="hljs-keyword">install</span> kpc -S
</code></pre>
<h2 id='header-%E5%8D%95%E6%96%87%E4%BB%B6%E5%BC%95%E5%85%A5'>单文件引入</h2><p>如果你的项目没有使用webpack来构建，可以引入单文件构建版。将<code>kpc.css</code>和<code>kpc.js</code>在html文件中引入。此时所有组件都在<code>Kpc</code>命名空间下，例如<code>Kpc.Button</code> <code>Kpc.Table</code>等。</p>
<p>另外你也可以调用<code>Kpc.install()</code>方法将组件放到全局空间下，此时为了避免命名冲突，所有组件名前加上<code>K</code>作为前缀，例如<code>KButton</code> <code>KTable</code>等</p>
<h3 id='header-CDN'>CDN</h3><p>通过<a href="https://cdn.jsdelivr.net/npm/kpc/dist/">cdn.jsdelivr.net/npm/kpc/dist/</a>可以直接引入最新版kpc，建议使用锁定版本地址，例如：<a href="https://cdn.jsdelivr.net/npm/kpc@0.5.14/dist/">cdn.jsdelivr.net/npm/kpc@0.5.14/dist/</a></p>
<pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>kpc-demo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"X-UA-Compatible"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"IE=edge, chrome=1"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Cache-Control"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"no-siteapp"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"//cdn.jsdelivr.net/npm/kpc/dist/kpc.css"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- 将上述kpc.css替换成ksyun.css，可以使用ksyun主题 --&gt;</span>
    <span class="hljs-comment">&lt;!-- &lt;link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/kpc/dist/ksyun.css" /&gt; --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"//cdn.jsdelivr.net/npm/intact/dist/intact.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"//cdn.jsdelivr.net/npm/kpc/dist/kpc.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript">
        Kpc.install();
        <span class="hljs-keyword">var</span> Page = Intact.extend({
            <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;KButton ev-click={self.hello}&gt;Hello World&lt;/KButton&gt;'</span>,
            <span class="hljs-attr">hello</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                KMessage.success(<span class="hljs-string">'Welcome to kpc world!'</span>);
            }
        });
        Intact.mount(Page, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'app'</span>));
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 id='header-%E5%A4%9A%E6%96%87%E4%BB%B6css%E6%9E%84%E5%BB%BA%E7%89%88'>多文件css构建版</h2><p>当项目使用webpack构建时，可以使用kpc的多文件css构建版，此时可以做到按需加载，而非单文件全量引入。多文件构建版样式css和字体，需要通过<code>css-loader &amp; style-loader</code>和<code>file-loader</code>来引入</p>
<blockquote>
<p>此版本放在<code>@css</code>文件夹下，该文件名的意思是：所有的样式<code>stylus</code>文件都被编译成了<code>css</code>文件，并非只是放置css文件的目录。ES6语法的<code>js</code>和<code>vdt</code>文件也都被编译成了ES5语法的<code>js</code>文件，所以你无需<code>babel-loader</code>和<code>vdt-loader</code>来处理它们，仅仅只需<code>css-loader</code>和<code>style-loader</code>处理<code>css</code>文件即可。另外<code>file-loader</code>处理字体还是需要的。</p>
</blockquote>
<ol>
<li>安装依赖</li>
</ol>
<pre><code class="hljs shell">npm <span class="hljs-keyword">install</span> kpc <span class="hljs-comment">--save</span>

npm <span class="hljs-keyword">install</span> css-loader <span class="hljs-keyword">style</span>-loader <span class="hljs-keyword">file</span>-loader <span class="hljs-comment">--save-dev</span>
</code></pre>
<ol start="2">
<li>配置<code>webpack.config.js</code></li>
</ol>
<p>为了统一组件加载路径，我们可以加入<code>alias</code>设置。例如：<code>kpc/components/button</code>会指向<code>kpc/@css/components/button</code></p>
<pre><code class="hljs js"><span class="hljs-string">module.exports</span> <span class="hljs-string">=</span> <span class="hljs-string">{</span>
    <span class="hljs-string">...</span>
<span class="hljs-attr">    resolve:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">        alias:</span> <span class="hljs-string">{</span>
            <span class="hljs-string">//</span> <span class="hljs-string">让kpc组件指向多文件构建版本，可以统一组件加载路径</span>
<span class="hljs-attr">            'kpc':</span> <span class="hljs-string">'kpc/@css'</span>
        <span class="hljs-string">}</span>
    <span class="hljs-string">},</span>
<span class="hljs-attr">    module:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">        rules:</span> <span class="hljs-string">[</span>
            <span class="hljs-string">{</span>
<span class="hljs-attr">                test:</span> <span class="hljs-string">/\.css$/,</span>
<span class="hljs-attr">                use:</span> <span class="hljs-string">[</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'style-loader'</span><span class="hljs-string">,</span>
                    <span class="hljs-string">},</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'css-loader'</span><span class="hljs-string">,</span>
<span class="hljs-attr">                        options:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">                            url:</span> <span class="hljs-literal">true</span>
                        <span class="hljs-string">}</span>
                    <span class="hljs-string">}</span>
                <span class="hljs-string">]</span>
            <span class="hljs-string">},</span>
            <span class="hljs-string">//</span> <span class="hljs-string">引入字体文件</span>
            <span class="hljs-string">{</span>
<span class="hljs-attr">                test:</span> <span class="hljs-string">/\.(woff2?|eot|ttf|otf|svg)(\?.*)?$/,</span>
<span class="hljs-attr">                use:</span> <span class="hljs-string">[</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'file-loader'</span><span class="hljs-string">,</span>
<span class="hljs-attr">                        options:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">                            outputPath:</span> <span class="hljs-string">'fonts/'</span><span class="hljs-string">,</span>
                        <span class="hljs-string">}</span>
                    <span class="hljs-string">}</span>
                <span class="hljs-string">]</span>
            <span class="hljs-string">},</span>
        <span class="hljs-string">]</span>
    <span class="hljs-string">}</span>
<span class="hljs-string">}</span>
</code></pre>
<ol start="3">
<li>按需引入组件</li>
</ol>
<p>在需要使用组件的地方，引入组件</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> {Button, ButtonGroup} <span class="hljs-keyword">from</span> <span class="hljs-string">'kpc/components/button'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ButtonGroup</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>button1<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>button2<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ButtonGroup</span>&gt;</span></span>
</code></pre>
<h2 id='header-%E5%A4%9A%E6%96%87%E4%BB%B6stylus%E6%9E%84%E5%BB%BA%E7%89%88'>多文件stylus构建版</h2><p>所谓stylus构建版与css构建版的区别是，样式使用的<code>stylus</code>而非编译后的css。当我们需要修改或者引入新主题时，通过该版本，可以很方便地实现。详见<a href="../theme/">定制主题</a></p>
<p>由于使用<code>stylus</code>，所以与构建版在使用上唯一的区别是需要引入<code>stylus-loader</code></p>
<blockquote>
<p>与多文件css构建版类似，此版本放在<code>@stylus</code>目录下</p>
</blockquote>
<ol>
<li>新增依赖</li>
</ol>
<p>为了提供css兼容性，这里加入<code>autoprefixer</code></p>
<pre><code class="hljs shell">npm install postcss-loader autoprefixer stylus-loader --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>
</code></pre>
<ol start="2">
<li>修改<code>webpack.config.js</code></li>
</ol>
<p>将css加载配置修改为（通过<code>stylus-loader</code>的<code>import</code>配置，我们可以引入主题文件）：</p>
<pre><code class="hljs js"><span class="hljs-string">const</span> <span class="hljs-string">autoprefixer</span> <span class="hljs-string">=</span> <span class="hljs-string">require('autoprefixer');</span>

<span class="hljs-string">module.export</span> <span class="hljs-string">=</span> <span class="hljs-string">{</span>
    <span class="hljs-string">...</span>
<span class="hljs-attr">    resolve:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">        alias:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">            'kpc':</span> <span class="hljs-string">'kpc/@stylus'</span>
        <span class="hljs-string">}</span>
    <span class="hljs-string">},</span>
<span class="hljs-attr">    module:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">        rules:</span> <span class="hljs-string">[</span>
            <span class="hljs-string">...</span>
            <span class="hljs-string">//</span> <span class="hljs-string">编译stylus</span>
            <span class="hljs-string">{</span>
<span class="hljs-attr">                test:</span> <span class="hljs-string">/\.styl$/,</span>
<span class="hljs-attr">                use:</span> <span class="hljs-string">[</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'style-loader'</span>
                    <span class="hljs-string">},</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'css-loader'</span><span class="hljs-string">,</span> 
<span class="hljs-attr">                        options:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">                            url:</span> <span class="hljs-literal">true</span><span class="hljs-string">,</span>
                        <span class="hljs-string">}</span>
                    <span class="hljs-string">},</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'postcss-loader'</span><span class="hljs-string">,</span>
<span class="hljs-attr">                        options:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">                            plugins:</span> <span class="hljs-string">[</span>
                                <span class="hljs-string">autoprefixer({</span>
<span class="hljs-attr">                                    browsers:</span> <span class="hljs-string">[</span>
                                        <span class="hljs-string">'last 2 versions'</span><span class="hljs-string">,</span>
                                        <span class="hljs-string">'ie &gt;= 9'</span><span class="hljs-string">,</span>
                                    <span class="hljs-string">],</span>
                                <span class="hljs-string">})</span>
                            <span class="hljs-string">],</span>
                        <span class="hljs-string">}</span>
                    <span class="hljs-string">},</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'stylus-loader'</span><span class="hljs-string">,</span> 
<span class="hljs-attr">                        options:</span> <span class="hljs-string">{</span>
                            <span class="hljs-string">'include css'</span><span class="hljs-string">:</span> <span class="hljs-literal">true</span><span class="hljs-string">,</span>
                            <span class="hljs-string">'resolve url'</span><span class="hljs-string">:</span> <span class="hljs-literal">true</span><span class="hljs-string">,</span> <span class="hljs-string">//</span> <span class="hljs-string">@since</span> <span class="hljs-string">v0.6.0</span>
<span class="hljs-attr">                            sourceMap:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span>
                            <span class="hljs-string">//</span> <span class="hljs-string">使用import引入主题文件，详见定制主题</span>
                            <span class="hljs-string">//</span> <span class="hljs-string">'import'</span><span class="hljs-string">:</span> <span class="hljs-string">path.resolve(__dirname,</span> <span class="hljs-string">'styles/themes/ksyun/index.styl'</span><span class="hljs-string">),</span>
                        <span class="hljs-string">}</span>
                    <span class="hljs-string">}</span>
                <span class="hljs-string">]</span>
            <span class="hljs-string">},</span>
            <span class="hljs-string">//</span> <span class="hljs-string">引入字体文件</span>
            <span class="hljs-string">{</span>
<span class="hljs-attr">                test:</span> <span class="hljs-string">/\.(woff2?|eot|ttf|otf|svg)(\?.*)?$/,</span>
<span class="hljs-attr">                use:</span> <span class="hljs-string">[</span>
                    <span class="hljs-string">{</span>
<span class="hljs-attr">                        loader:</span> <span class="hljs-string">'file-loader'</span><span class="hljs-string">,</span>
<span class="hljs-attr">                        options:</span> <span class="hljs-string">{</span>
<span class="hljs-attr">                            outputPath:</span> <span class="hljs-string">'fonts/'</span><span class="hljs-string">,</span>
                        <span class="hljs-string">}</span>
                    <span class="hljs-string">}</span>
                <span class="hljs-string">]</span>
            <span class="hljs-string">},</span>
        <span class="hljs-string">]</span>
    <span class="hljs-string">}</span>
<span class="hljs-string">}</span>
</code></pre>
</div></div></div></article><div class="table-of-contents"><ul></ul><div class="aside-dot transition" style="display:none"></div></div></div></div></div></div>
    <script src="//cdn.jsdelivr.net/gh/stylus/stylus-lang.com@gh-pages/try/stylus.min.js"></script>
    <script src="/static/client.js" type="text/javascript"></script>
</body>
</html>