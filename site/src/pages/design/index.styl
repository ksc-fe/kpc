hsv(h-hsv, s-hsv, v-hsv, a = 1)
    if v-hsv == 0
        return hsla(0, 0, 0, a)
    else
        s-hsv = unit(s-hsv, '')
        v-hsv = unit(v-hsv, '')
        l-hsl = (v-hsv / 2) * (2 - (s-hsv / 100))
        if l-hsl == 0 || l-hsl == 100
            s-hsl = l-hsl 
        else 
            s-hsl = (v-hsv * s-hsv) / (l-hsl < 50 ? l-hsl * 2 : 200 - l-hsl * 2)
        return hsla(h-hsv, s-hsl, l-hsl, a)

toHsv(color)
    r = red(color);
    g = green(color);
    b = blue(color);
    return rgbToHsv(r, g, b)

hsvhue(color)
    hsv = toHsv(color);
    return unit(hsv.h, '')

hsvsaturation(color)
    hsv = toHsv(color);
    return unit(hsv.s, '%')

hsvvalue(color)
    hsv = toHsv(color);
    return unit(hsv.v, '%')

rgbToHsv(r, g, b)
    r = (r / 255);
    g = (g / 255);
    b = (b / 255);
    max = max(max(r, g), b);
    min = min(min(r, g), b);
    h = s = v = max;
    d = max - min;
    s = (max == 0) ? 0 : (d / max);
    if max == min
        h = 0;
    else
        if max == r
            h = ((g - b) / d) + (g < b ? 6 : 0);
        else if max == g
            h = ((b - r) / d) + 2;
        else if max == b
            h = ((r - g) / d) + 4;

    h = (h / 6);

    return { h: h * 360, s: s * 100, v: v * 100 }

$color = #000000
$h = hsvhue($color)
$s = hsvsaturation($color)
$b = hsvvalue($color)
if $s <= 10% 
    $deS = 0
else
    $deS = ($s - 10%) / 4
$inS = (100% - $s) / 4
$deB = (100% - $b) / 4
if $b <= 40%
    $inB = 0
else 
    $inB = ($b - 40%) / 4

.design-page
    .content-wrapper
        padding-left 20px
    .color
        width 100px
        height 100px
        float left
        H $h
        S $s
        B $b
        DS $deS
        IS $inS
        DB $deB
        IB $inB
    for num in (0..4)
        .color{4 - num}
            // background hsv($h - num, $s - num * $deS, $b + num * $deB)
            background hsv($h, $s - num * $deS, $b + num * $deB)
            &:before
                // content s('"%s\D\A %s %s %s"', hsv($h - num, $s - num * $deS, $b + num * $deB), $h - num, $s - num * $deS, $b + num * $deB)
                content s('"%s\D\A %s %s %s"', hsv($h, $s - num * $deS, $b + num * $deB), $h, $s - num * $deS, $b + num * $deB)
                white-space pre
                color #fff
                display block
    for num in (1..4)
        .color{num + 4}
            // background hsv($h + num, $s + num * $inS, $b - num * $inB)
            background hsv($h, $s + num * $inS, $b - num * $inB)
            &:before
                // content s('"%s\D\A %s %s %s"', hsv($h + num, $s + num * $inS, $b - num * $inB), $h + num, $s + num * $inS, $b - num * $inB)
                content s('"%s\D\A %s %s %s"', hsv($h, $s + num * $inS, $b - num * $inB), $h, $s + num * $inS, $b - num * $inB)
                white-space pre
                display block
                color #fff

