{
    "setting": {
        "title": "新增和关闭标签",
        "order": 6
    },
    "catalogs": [],
    "contents": "<p>给<code>Tabs</code>添加<code>closable</code>属性，可以使所有标签可以关闭，当然你也可以通过<code>Tab</code>的<code>closable</code>属性单独控制该<code>Tab</code>是否可关闭。当点击关闭按钮时，<code>Tabs</code>会触发<code>remove</code>事件，并且将关闭的<code>Tab</code>的<code>value</code>作为参数传给事件回调函数</p>\n",
    "index": 223,
    "highlighted": [
        {
            "language": "vdt",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> {Tabs, Tab} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/tabs'</span>;\n<span class=\"hljs-keyword\">import</span> {Button, ButtonGroup} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/button'</span>;\n\n<span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ButtonGroup</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"size\"</span> <span class=\"hljs-attr\">checkType</span>=<span class=\"hljs-string\">\"radio\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">{{</span> ['<span class=\"hljs-attr\">large</span>', '<span class=\"hljs-attr\">default</span>', '<span class=\"hljs-attr\">small</span>', '<span class=\"hljs-attr\">mini</span>'] }}\n            <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">value</span> }}\n        &gt;</span>{{ value }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ButtonGroup</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">ev-click</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self._add</span> }}&gt;</span>新增Tab<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Tabs</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"tab\"</span>\n        <span class=\"hljs-attr\">closable</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.get</span>('<span class=\"hljs-attr\">tabs</span>')<span class=\"hljs-attr\">.length</span> &gt;</span> 1 }}\n        ev-remove={{ self._remove }}\n        v-for={{ ['default', 'card', 'border-card', 'no-border-card'] }}\n        type={{ value }}\n        size={{ self.get('size') }}\n    &gt;\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Tab</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.get</span>('<span class=\"hljs-attr\">tabs</span>') }}\n            <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">value.value</span> }}\n            <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">value.value</span> }}\n            <span class=\"hljs-attr\">closable</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">value.value</span> !== <span class=\"hljs-string\">10</span> }}\n        &gt;</span>{{ value.label }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Tab</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Tabs</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span></code></pre>"
        },
        {
            "language": "styl",
            "content": "<pre><code class=\"hljs styl\"><span class=\"hljs-selector-class\">.k-tabs</span>\n    <span class=\"hljs-attribute\">margin</span> <span class=\"hljs-number\">16px</span> <span class=\"hljs-number\">0</span>\n<span class=\"hljs-selector-class\">.k-no-border-card</span>\n    <span class=\"hljs-attribute\">background</span> <span class=\"hljs-number\">#f1f1f5</span></code></pre>"
        },
        {
            "language": "js",
            "content": "<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">import</span> Intact <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'intact'</span>;\n<span class=\"hljs-keyword\">import</span> template <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./index.vdt'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'./index.styl'</span>; \n\n<span class=\"hljs-keyword\">let</span> id = <span class=\"hljs-number\">3</span>;\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Intact</span> </span>{\n    @Intact.template()\n    <span class=\"hljs-keyword\">static</span> template = template;\n\n    defaults() {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-attr\">tab</span>: <span class=\"hljs-number\">1</span>,\n            <span class=\"hljs-attr\">tabs</span>: [\n                {<span class=\"hljs-attr\">value</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">label</span>: <span class=\"hljs-string\">'Tab 1'</span>},\n                {<span class=\"hljs-attr\">value</span>: <span class=\"hljs-number\">2</span>, <span class=\"hljs-attr\">label</span>: <span class=\"hljs-string\">'Tab 2'</span>},\n                {<span class=\"hljs-attr\">value</span>: <span class=\"hljs-number\">3</span>, <span class=\"hljs-attr\">label</span>: <span class=\"hljs-string\">'Tab 3'</span>},\n            ],\n            <span class=\"hljs-attr\">size</span>: <span class=\"hljs-string\">'large'</span>,\n        }\n    }\n\n    _remove(value) {\n        <span class=\"hljs-keyword\">const</span> tabs = <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'tabs'</span>).slice(<span class=\"hljs-number\">0</span>);\n        <span class=\"hljs-keyword\">const</span> index = tabs.findIndex(<span class=\"hljs-function\"><span class=\"hljs-params\">item</span> =&gt;</span> item.value === value);\n        tabs.splice(index, <span class=\"hljs-number\">1</span>);\n\n        <span class=\"hljs-comment\">// 如果删除当前tab，则切换至下一个</span>\n        <span class=\"hljs-keyword\">let</span> tab = <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'tab'</span>);\n        <span class=\"hljs-keyword\">if</span> (value === tab) {\n            tab = (tabs[index] || tabs[index - <span class=\"hljs-number\">1</span>]).value\n        }\n\n        <span class=\"hljs-keyword\">this</span>.set({tabs, tab});\n    }\n\n    _add() {\n        <span class=\"hljs-keyword\">const</span> tabs = <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'tabs'</span>).slice(<span class=\"hljs-number\">0</span>);\n        id++;\n        tabs.push({\n            <span class=\"hljs-attr\">value</span>: id,\n            <span class=\"hljs-attr\">label</span>: <span class=\"hljs-string\">`Tab <span class=\"hljs-subst\">${id}</span>`</span>,\n        });\n        <span class=\"hljs-keyword\">this</span>.set({tabs, <span class=\"hljs-attr\">tab</span>: id});\n    }\n}</code></pre>"
        },
        {
            "language": "vue",
            "content": "<pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ButtonGroup</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"size\"</span> <span class=\"hljs-attr\">checkType</span>=<span class=\"hljs-string\">\"radio\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">\"(value, key) in ['large', 'default', 'small', 'mini']\"</span>\n                <span class=\"hljs-attr\">:value</span>=<span class=\"hljs-string\">\"value\"</span>\n            &gt;</span>{{ value }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ButtonGroup</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">\"_add\"</span>&gt;</span>新增Tab<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Tabs</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"tab\"</span>\n            <span class=\"hljs-attr\">:closable</span>=<span class=\"hljs-string\">\"tabs.length &gt; 1\"</span>\n            @<span class=\"hljs-attr\">remove</span>=<span class=\"hljs-string\">\"_remove\"</span>\n            <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">\"(value, key) in ['default', 'card', 'border-card', 'no-border-card']\"</span>\n            <span class=\"hljs-attr\">:type</span>=<span class=\"hljs-string\">\"value\"</span>\n            <span class=\"hljs-attr\">:size</span>=<span class=\"hljs-string\">\"size\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Tab</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">\"(value, key) in tabs\"</span>\n                <span class=\"hljs-attr\">:value</span>=<span class=\"hljs-string\">\"value.value\"</span>\n                <span class=\"hljs-attr\">:key</span>=<span class=\"hljs-string\">\"value.value\"</span>\n                <span class=\"hljs-attr\">:closable</span>=<span class=\"hljs-string\">\"value.value !== 10\"</span>\n            &gt;</span>{{ value.label }}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Tab</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Tabs</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"javascript\">\n<span class=\"hljs-keyword\">import</span> {Tabs, Tab} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/tabs'</span>;\n<span class=\"hljs-keyword\">import</span> {Button, ButtonGroup} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/button'</span>;\n\n<span class=\"hljs-keyword\">let</span> id = <span class=\"hljs-number\">3</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> {\n    <span class=\"hljs-attr\">components</span>: {\n        Tabs, Tab, Button, ButtonGroup\n    },\n    data() {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-string\">\"tabs\"</span>: [\n                {\n                    <span class=\"hljs-string\">\"value\"</span>: <span class=\"hljs-number\">1</span>,\n                    <span class=\"hljs-string\">\"label\"</span>: <span class=\"hljs-string\">\"Tab 1\"</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"value\"</span>: <span class=\"hljs-number\">2</span>,\n                    <span class=\"hljs-string\">\"label\"</span>: <span class=\"hljs-string\">\"Tab 2\"</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"value\"</span>: <span class=\"hljs-number\">3</span>,\n                    <span class=\"hljs-string\">\"label\"</span>: <span class=\"hljs-string\">\"Tab 3\"</span>\n                }\n            ],\n            <span class=\"hljs-string\">\"size\"</span>: <span class=\"hljs-string\">\"large\"</span>,\n            <span class=\"hljs-string\">\"tab\"</span>: <span class=\"hljs-number\">1</span>\n        }\n    },\n    <span class=\"hljs-attr\">methods</span>: {\n        _remove(value) {\n            <span class=\"hljs-keyword\">const</span> index = <span class=\"hljs-keyword\">this</span>.tabs.findIndex(<span class=\"hljs-function\"><span class=\"hljs-params\">item</span> =&gt;</span> item.value === value);\n            <span class=\"hljs-keyword\">this</span>.tabs.splice(index, <span class=\"hljs-number\">1</span>);\n        \n            <span class=\"hljs-comment\">// 如果删除当前tab，则切换至下一个</span>\n            <span class=\"hljs-keyword\">if</span> (value === <span class=\"hljs-keyword\">this</span>.tab) {\n                <span class=\"hljs-keyword\">this</span>.tab = (<span class=\"hljs-keyword\">this</span>.tabs[index] || <span class=\"hljs-keyword\">this</span>.tabs[index - <span class=\"hljs-number\">1</span>]).value\n            }\n        },\n        _add() {\n            id++;\n            <span class=\"hljs-keyword\">this</span>.tabs.push({\n                <span class=\"hljs-attr\">value</span>: id,\n                <span class=\"hljs-attr\">label</span>: <span class=\"hljs-string\">`Tab <span class=\"hljs-subst\">${id}</span>`</span>,\n            });\n            <span class=\"hljs-keyword\">this</span>.tab = id;\n        },\n    },\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span></code></pre>"
        },
        {
            "language": "jsx",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> React <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"hljs-keyword\">import</span> {Tabs, Tab} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/tabs'</span>;\n<span class=\"hljs-keyword\">import</span> {Button, ButtonGroup} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/button'</span>;\n\n<span class=\"hljs-keyword\">let</span> id = <span class=\"hljs-number\">3</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span> </span>{\n    <span class=\"hljs-keyword\">constructor</span>(props) {\n        <span class=\"hljs-keyword\">super</span>(props);\n        <span class=\"hljs-keyword\">this</span>.state = {\n            <span class=\"hljs-string\">\"tab\"</span>: <span class=\"hljs-number\">1</span>,\n            <span class=\"hljs-string\">\"tabs\"</span>: [\n                {\n                    <span class=\"hljs-string\">\"value\"</span>: <span class=\"hljs-number\">1</span>,\n                    <span class=\"hljs-string\">\"label\"</span>: <span class=\"hljs-string\">\"Tab 1\"</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"value\"</span>: <span class=\"hljs-number\">2</span>,\n                    <span class=\"hljs-string\">\"label\"</span>: <span class=\"hljs-string\">\"Tab 2\"</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"value\"</span>: <span class=\"hljs-number\">3</span>,\n                    <span class=\"hljs-string\">\"label\"</span>: <span class=\"hljs-string\">\"Tab 3\"</span>\n                }\n            ],\n            <span class=\"hljs-string\">\"size\"</span>: <span class=\"hljs-string\">\"large\"</span>\n        };\n        <span class=\"hljs-keyword\">this</span>._remove = <span class=\"hljs-keyword\">this</span>._remove.bind(<span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>._add = <span class=\"hljs-keyword\">this</span>._add.bind(<span class=\"hljs-keyword\">this</span>);\n    }\n\n    _remove(value) {\n        <span class=\"hljs-keyword\">const</span> tabs = <span class=\"hljs-keyword\">this</span>.state.tabs.slice(<span class=\"hljs-number\">0</span>);\n        <span class=\"hljs-keyword\">const</span> index = tabs.findIndex(<span class=\"hljs-function\"><span class=\"hljs-params\">item</span> =&gt;</span> item.value === value);\n        tabs.splice(index, <span class=\"hljs-number\">1</span>);\n    \n        <span class=\"hljs-comment\">// 如果删除当前tab，则切换至下一个</span>\n        <span class=\"hljs-keyword\">let</span> tab = <span class=\"hljs-keyword\">this</span>.state.tab;\n        <span class=\"hljs-keyword\">if</span> (value === tab) {\n            tab = (tabs[index] || tabs[index - <span class=\"hljs-number\">1</span>]).value\n        }\n    \n        <span class=\"hljs-keyword\">this</span>.setState({tabs, tab});\n    }\n    \n    _add() {\n        <span class=\"hljs-keyword\">const</span> tabs = <span class=\"hljs-keyword\">this</span>.state.tabs.slice(<span class=\"hljs-number\">0</span>);\n        id++;\n        tabs.push({\n            <span class=\"hljs-attr\">value</span>: id,\n            <span class=\"hljs-attr\">label</span>: <span class=\"hljs-string\">`Tab <span class=\"hljs-subst\">${id}</span>`</span>,\n        });\n        <span class=\"hljs-keyword\">this</span>.setState({tabs, <span class=\"hljs-attr\">tab</span>: id});\n    }\n    \n    render() {\n        <span class=\"hljs-keyword\">return</span> (\n            <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ButtonGroup</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{this.state.size}</span> <span class=\"hljs-attr\">on</span>$<span class=\"hljs-attr\">change-value</span>=<span class=\"hljs-string\">{(c,</span> <span class=\"hljs-attr\">size</span>) =&gt;</span> this.setState({size})} checkType=\"radio\"&gt;\n                    {['large', 'default', 'small', 'mini'].map((value, key) =&gt; {\n                        return (\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span>\n                                <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{value}</span>\n                            &gt;</span>{value}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n                        )\n                    })}\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ButtonGroup</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span> /&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span> /&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">{this._add}</span>&gt;</span>新增Tab<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n                {['default', 'card', 'border-card', 'no-border-card'].map((value, key) =&gt; {\n                    return (\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Tabs</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{this.state.tab}</span>\n                            <span class=\"hljs-attr\">on</span>$<span class=\"hljs-attr\">change-value</span>=<span class=\"hljs-string\">{(c,</span> <span class=\"hljs-attr\">tab</span>) =&gt;</span> this.setState({tab})}\n                            closable={this.state.tabs.length &gt; 1}\n                            onRemove={this._remove}\n                            type={value}\n                            size={this.state.size}\n                        &gt;\n                            {this.state.tabs.map((value, key) =&gt; {\n                                return (\n                                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Tab</span>\n                                        <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{value.value}</span>\n                                        <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">{value.value}</span>\n                                        <span class=\"hljs-attr\">closable</span>=<span class=\"hljs-string\">{value.value</span> !== <span class=\"hljs-string\">10}</span>\n                                    &gt;</span>{value.label}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Tab</span>&gt;</span>\n                                )\n                            })}\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Tabs</span>&gt;</span>\n                    )\n                })}\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n        )\n    }\n}</code></pre>"
        }
    ]
}